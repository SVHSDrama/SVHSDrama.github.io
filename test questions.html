<!DOCTYPE html>
<html>
<head> 
    <title>Test Questions</title>
</head>
<body>
<h2>Test Questions</h2>
<form id="TEST">

<div class="questions">
    <h3>1. Insert Your Name</h3>
    <input type="text" name="insert_name" placeholder="Enter Name" required>
</div>

<div class="questions">
    <h3>2. If you Have a Preferred Name You can Insert it Here</h3>
    <input type="text" name="preferred_name" placeholder="Enter Preferred Name">
</div>

<div class="questions">
    <h3>3. Would you Like to Buy a Shirt?</h3>
    <select name="buy_shirt" required>
        <option value="">Select One</option>
        <option value="Yes">Yes</option>
        <option value="No">No</option>
    </select>
</div>
<hr>
<br>

<button type="submit">Submit</button>

<script>
document.getElementById('TEST').addEventListener('submit', function (e) {
    e.preventDefault(); // Prevent form submission

    // Get form data
    var formData = new FormData(this);
    var response = {};

    formData.forEach((value, key) => {
        response[key] = value;
    });

    // Retrieve existing responses from localStorage
    var responses = JSON.parse(localStorage.getItem('surveyResponses')) || [];

    // Add new response to the responses array
    responses.push(response);

    // Store updated responses array back to localStorage
    localStorage.setItem('surveyResponses', JSON.stringify(responses));

    // Redirect to the responses page
    
});
</script>

</form>
</body>
</html>
